'use strict';

var average = require('./average.js'),
    sortBy = require('./sort-by.js');

module.exports = averageAgePerCentury;

function averageAgePerCentury (ancestryArray) {

  var byCentury = sortBy(ancestryArray, function (person){
    return Math.ceil( person.died / 100);
  });

  for(var century in byCentury ){
    if(byCentury.hasOwnProperty(century)){
      var ages = byCentury[century].map(function (person){
          return person.died - person.born;
        });
      console.log(century,': ',average(ages));
    }
  }
}